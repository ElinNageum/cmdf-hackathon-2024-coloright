<!doctype html>
<html lang="en">
  <head>
    <style>
      body {
        font-family: Verdana, Geneva, Tahoma, sans-serif
      }
    </style>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>coloright</title>
    
  </head>
  <body>
    <head>
      <style>
        body {
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
        }
        
        button {
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            background: #adc2eb;
            color: black;
            border-radius: 20px;
            padding: 5px;
            padding-left: 15px;
            padding-right: 15px;
            border: none;
            transition: box-shadow .3s;
            margin-top: 20px;
            margin-left: -5px;
        }

        button:hover {
            box-shadow: 0px 0px 10px #0a1429;
        }

        /* unvisited link */
        a.nav:link {
            color: white;
            text-decoration: none;
        }
        
        /* visited link */
        a.nav:visited {
            color: white;
            text-decoration: none;
        }
        
        /* mouse over link */
        a.nav:hover {
            color: white;
            text-decoration: underline;
        }
        
        /* selected link */
        a.nav:active {
            color: white;
            text-decoration: underline;
        }
        
        /* grid container */
        .holy-grail-grid {
            display:grid;
            grid-template-areas:
                'header'
                'main-content'
                'left-sidebar'
                'right-sidebar'
                'footer';
        }
  
        .HolyGrail,
        .HolyGrail-body {
            display: flex;
            flex-direction: column;
        }

        .HolyGrail-nav {
            order: -1;
            background: #3266cc;
            color: white;
        }

        .HolyGrail-body {
            flex-direction: row;
            flex: 1;
        }
        .HolyGrail-content {
            flex: 1;
            padding: 15px;
        }

        .Holygrail-header {
            background: #3266cc;
            color: white;
        }

        .HolyGrail-nav {
            background: #3266cc;
            color: white;
            transition: box-shadow .3s;
            flex: 0 0 15em;
        }

        .HolyGrail-nav:hover {
            box-shadow: 0 5px 10px #23478f;
        }

        .HolyGrail-ads {
            background: #3266cc;
            color: white;
            margin: 10px;
            padding: 10px;
            border-radius: 20px;
            flex: 0 0 13em;
            animation: popout 1s ease;
            -webkit-animation: popout 1s ease;
        }

        @keyframes popout {
            from{transform:scale(0)}
            80%{transform:scale(1)}
            to{transform:scale(1)}
        }
        @-webkit-keyframes popout {
            from{-webkit-transform:scale(0)}
            80%{-webkit-transform:scale(1.2)}
            to{-webkit-transform:scale(1)}
        }

        .HolyGrail-footer {
            background: #3266cc;
            padding: 5px;
            color: white;
            font-size: 12px;
        }

        .forum{
            width: 100%;
            height: 90%;
            vertical-align: bottom;
            /* background-color: antiquewhite; */
            display: inline-block;
            position: relative;

        }

        .textbox-forum {
            width: 100%;
            display: flex;
            overflow-y: scroll;
            flex-direction:column;
            height: 90%;
            /* bottom: 10%; */
        }
        #chat-forum {
            display: flex;
            /* background-color: cadetblue; */
            padding: 0px 10px;
            padding-left: 10px;
            width: 80%;
            justify-content: center;
            position: relative;
            /* bottom:5%; */
        }
        
        #textinput-forum input[type="text"]{
            display: flex;
            max-width: 80%;
            margin-left: 20px;
            resize: both;
        }
        p.forum-text{
            background-color: #ffffff;
            font-size: 15px;
            color: #3266cc;
            margin: 5px;
            padding: 5px;
            border-radius: 10px;
        }
      </style>
      <title>coloright</title>    
  </head>
  <body>
    <body class="HolyGrail">
        <header class="Holygrail-header">
            <h2 style="text-align:center;">Coloright</h2>
        </header>
        <div class="HolyGrail-body">
          <main class="HolyGrail-content">
            {% block content %}
            
            {% endblock %}
        </main>
          <nav class="HolyGrail-nav" style="padding-left: 20px;">
            <h3 style="margin-bottom: 40px;">Menu</h3>
            <ul style="list-style: none; margin-left: -20px;">
                <li style="margin-bottom: 20px;"><a href="/" class="nav">Home</a></li>
                <li style="margin-bottom: 20px;"><a href="/plots" class="nav">Choropleth Image Tool</a></li>
                <li style="margin-bottom: 20px;"><a href="/test" class="nav">Ishihara Test</a></li>
                <li style="margin-bottom: 20px;"><a href="/info" class ="nav">Information Hub</a></li>
                <!-- <button>Ask me anything!</button>-->
                <button onclick="window.location.href='/chatbot';">Ask me anything!</button>

            </ul>
          </nav>
          <aside class="HolyGrail-ads">
            <h3 style="text-align: center;">Community Forum</h3>
            <div style="background: white; display: flex; border-radius: 20px;">
            </div>


            <div class="forum">
                <div class="textbox-forum">
                    {% for i in range(0,frmln) %} 
                        <p class="forum-text">{{frm[i]}}</p> 
                    {% endfor %}
                </div>
                <form id="chat-forum" action="#" method="post" onsubmit="submitForum();">
                    <p id="textinput-forum">
                        <input type="text" id="fr" name="fr" onkeydown="checkEnter2(event)">
                    </p>
                    <p id="button"><input class="btn" type="submit" value="submit"></p>
                </form>                
             </div>
             
          </aside>
        </div>
        <footer class="HolyGrail-footer">ʕ·ᴥ·ʔ Made for cmd-f 2024 by Jenny Sun, Eva Jiang, Elin Lee, and Ellie Hu!</footer>
      </body>
      
  </body>
  <script>
    function checkEnter2(event) {
      if (event.key === "Enter") {
        event.preventDefault();
        submitForm();
      }
    }
    function submitForum() {
        document.getElementById("chat").submit();
        document.getElementById("qns").focus();
    }
  </script>
</html>